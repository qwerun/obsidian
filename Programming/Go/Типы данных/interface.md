> [!info] –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è 
> –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ Go ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –æ–ø–∏—Å–∞—Ç—å **–ø–æ–≤–µ–¥–µ–Ω–∏–µ** —á–µ—Ä–µ–∑ –Ω–∞–±–æ—Ä —Å–∏–≥–Ω–∞—Ç—É—Ä –º–µ—Ç–æ–¥–æ–≤. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–Ω–µ—è–≤–Ω–æ** (structural typing): –µ—Å–ª–∏ —Ç–∏–ø –∏–º–µ–µ—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã ‚Äî –æ–Ω ¬´–ø–æ–¥—Ö–æ–¥–∏—Ç¬ª. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏—é, —Å–Ω–∏–∂–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∏ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º.

## –ö—Ä–∞—Ç–∫–∏–π –∫–æ–Ω—Å–ø–µ–∫—Ç

- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî **–Ω–∞–±–æ—Ä —Å–∏–≥–Ω–∞—Ç—É—Ä –º–µ—Ç–æ–¥–æ–≤** (–±–µ–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏).
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –º–æ–∂–Ω–æ **–≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å** –¥—Ä—É–≥ –≤ –¥—Ä—É–≥–∞ (embedding) –¥–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è.
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**, –µ—Å–ª–∏ —Ç–∏–ø —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ –µ–≥–æ –º–µ—Ç–æ–¥—ã.
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ç–∏–ø** –∏ **–¥–∞–Ω–Ω—ã–µ** (–≤ —Ä–∞–Ω—Ç–∞–π–º–µ: `type + data`; –¥–ª—è –Ω–µ-–ø—É—Å—Ç—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ ‚Äî —á–µ—Ä–µ–∑ `itab + data`).
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–≤–µ–Ω `nil`, **—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏ —Ç–∏–ø, –∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω—ã nil**. –ï—Å–ª–∏ —Ç–∏–ø –µ—Å—Ç—å, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ `nil` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `(*T)(nil)`), —Ç–æ **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ nil**.
- –ü—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `interface{}` (—Å–∏–Ω–æ–Ω–∏–º `any` —Å Go 1.18) –ø—Ä–∏–Ω–∏–º–∞–µ—Ç **–ª—é–±–æ–µ** –∑–Ω–∞—á–µ–Ω–∏–µ.
- –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ Go –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**, –∞ –Ω–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ.
- `type assertion` –∏ `type switch` ‚Äî —Å–ø–æ—Å–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
- üîé –í–∞–∂–Ω–æ: **–Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤ (method set)** –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–∏—ë–º–Ω–∏–∫–∞:  
  ‚Äî –º–µ—Ç–æ–¥ —Å –ø—Ä–∏—ë–º–Ω–∏–∫–æ–º `T` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —É `T` –∏ `*T`;  
  ‚Äî –º–µ—Ç–æ–¥ —Å –ø—Ä–∏—ë–º–Ω–∏–∫–æ–º `*T` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç **—Ç–æ–ª—å–∫–æ** —É `*T`.  
  –ü–æ—ç—Ç–æ–º—É –∏–Ω–æ–≥–¥–∞ **`*T` —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞ `T` ‚Äî –Ω–µ—Ç**.

---

### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ Go

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–∫–æ–Ω—Ç—Ä–∞–∫—Ç**: –Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–∏–ø.

```go
package main

import "fmt"

type Greeter interface {
    Greet() string
}

type Person struct {
    Name string
}

func (p Person) Greet() string { // value-receiver
    return "–ü—Ä–∏–≤–µ—Ç, " + p.Name
}

func main() {
    var g Greeter = Person{Name: "–ê–Ω–Ω–∞"} // –Ω–µ—è–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
    fmt.Println(g.Greet())
}
````

> [!tip] –ù–µ –Ω—É–∂–Ω–æ ¬´implements¬ª: –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å–∏–≥–Ω–∞—Ç—É—Ä.

---

### 2. –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (interface embedding)

```go
type Reader interface  { Read(p []byte) (int, error) }
type Writer interface  { Write(p []byte) (int, error) }
type ReadWriter interface {
    Reader
    Writer
}
// io.ReadWriter –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —É—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫ –∂–µ.
```

---

### 3. –ù–µ—è–≤–Ω–∞—è –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è

```go
type Printer interface { Print() string }

type Report struct{}
func (Report) Print() string { return "–ü–µ—á–∞—Ç—å –æ—Ç—á—ë—Ç–∞" }

func output(p Printer) { fmt.Println(p.Print()) }
```

> [!tip] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—ã—á–Ω–æ **–æ–±—ä—è–≤–ª—è–µ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å** (—Ç–æ—Ç, –∫—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã), –∞ –Ω–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞-–ø–æ—Å—Ç–∞–≤—â–∏–∫.

---

### 4. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ interface-–∑–Ω–∞—á–µ–Ω–∏—è

–ù–∞ —É—Ä–æ–≤–Ω–µ –∏–¥–µ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —ç—Ç–æ –ø–∞—Ä–∞ **(—Ç–∏–ø, –¥–∞–Ω–Ω—ã–µ)**.

```go
var i interface{} = 42
// conceptually:
i = {
    type:  int,
    value: 42,
}
```

> [!warning] –ï—Å–ª–∏ **—Ç–∏–ø –∑–∞–¥–∞–Ω, –∞ –¥–∞–Ω–Ω—ã–µ = nil** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `var p *T = nil; var i interface{} = p`), —Ç–æ `i != nil`.

---

### 5. Nil-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `nil` ‚á¢ **–Ω–µ—Ç —Ç–∏–ø–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏—è** ‚Äî –ª—é–±–æ–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —á–µ—Ä–µ–∑ —Ç–∞–∫–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å **panic**.

```go
var r io.Reader // r == nil
_ = r.Read(nil) // panic: nil interface has no dynamic type
```

–ï—Å–ª–∏ –∂–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ª–µ–∂–∏—Ç **—Ç–∏–ø `*T`, –Ω–æ —Å–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ nil**, –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ **–≤–æ–∑–º–æ–∂–µ–Ω**: –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–∏—Ç nil-–ø—Ä–∏—ë–º–Ω–∏–∫. –û–Ω –º–æ–∂–µ—Ç:

- –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å nil –∏ –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É,
    
- –∏–ª–∏ —É–ø–∞—Å—Ç—å, –µ—Å–ª–∏ —Ä–∞–∑—ã–º–µ–Ω—É–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å.
    

```go
type S struct{}
func (s *S) M() { fmt.Println("ok with nil receiver too") }

var s *S = nil
var i interface{ M() } = s // –ù–ï nil
i.M() // –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–∑–æ–≤; –≤–Ω—É—Ç—Ä–∏ M —Ä–µ—à–∞–µ–º, —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å nil
```

> [!tip] –≠—Ç–æ –∫–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç ¬´nil –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞¬ª: —É ¬´—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ nil¬ª –≤—ã–∑–æ–≤ –≤–æ–∑–º–æ–∂–µ–Ω.

---

### 6. –ü—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `interface{}` / `any`

```go
func describe(i any) { // any == interface{}
    fmt.Printf("(%v, %T)\n", i, i)
}

describe(42)      // (42, int)
describe("hello") // (hello, string)
```

> [!example] –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ ¬´—Å—ã—Ä–æ–≥–æ¬ª JSON, –Ω–æ **–Ω–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ**: –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏–ª–∏ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏.

---

### 7. –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

```go
type Shape interface { Area() float64 }

type Circle struct{ R float64 }
func (c Circle) Area() float64 { return math.Pi * c.R * c.R }

type Square struct{ A float64 }
func (s Square) Area() float64 { return s.A * s.A }

func printArea(s Shape) { fmt.Println(s.Area()) }
```

---

### 8. –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ç–∏–ø–∞ (type assertion)

```go
var i any = "—Å—Ç—Ä–æ–∫–∞"

s  := i.(string)      // panic, –µ—Å–ª–∏ –Ω–µ string
s2, ok := i.(string)  // –±–µ–∑–æ–ø–∞—Å–Ω–æ: ok=false, –µ—Å–ª–∏ —Ç–∏–ø –Ω–µ —Å–æ–≤–ø–∞–ª
_ = s; _ = s2; _ = ok
```

---

### 9. Type switch

```go
func handle(i any) {
    switch v := i.(type) {
    case int:
        fmt.Println("int:", v)
    case string:
        fmt.Println("string:", v)
    default:
        fmt.Println("unknown type")
    }
}
```

---

> [!warning] –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏
> 
> - ¬´–ü–æ—á–µ–º—É `T` –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞ `*T` —Ä–µ–∞–ª–∏–∑—É–µ—Ç?¬ª ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ **method set** –∏ –ø—Ä–∏—ë–º–Ω–∏–∫–∏.
>     
> - ¬´–ü–æ—á–µ–º—É `i == nil` –ª–æ–∂–Ω–æ?¬ª ‚Äî –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –º–æ–∂–µ—Ç –ª–µ–∂–∞—Ç—å **—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π nil**.
>     
> - ¬´–ü–æ—á–µ–º—É –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —É–ø–∞–ª?¬ª ‚Äî –º–µ—Ç–æ–¥ –º–æ–≥ –ø–æ–ª—É—á–∏—Ç—å **nil-–ø—Ä–∏—ë–º–Ω–∏–∫** –∏ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞—Ç—å –µ–≥–æ.
>     

> [!tip] –ü—Ä–∞–∫—Ç–∏–∫–∞
> 
> - –î–µ—Ä–∂–∏—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã **–º–∞–ª–µ–Ω—å–∫–∏–º–∏** (–æ–±—ã—á–Ω–æ 1‚Äì2 –º–µ—Ç–æ–¥–∞).
>     
> - –û–±—ä—è–≤–ª—è–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã **–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è**.
>     
> - –î–ª—è –æ–±–æ–±—â–µ–Ω–∏–π –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ **–¥–∂–µ–Ω–µ—Ä–∏–∫–∏** –≤–º–µ—Å—Ç–æ `interface{}`.
>     

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- Tour of Go ‚Äî Interfaces
    
- [Effective Go: Interfaces](https://go.dev/doc/effective_go#interfaces)
    
- Go Blog: The empty interface
    
- [[–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ Go]]
    
- [[–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è]]