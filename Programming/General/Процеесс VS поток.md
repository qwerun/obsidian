> [!info] Основная идея  
> Процесс — это независимая единица выполнения с собственной памятью, поток — «лёгкий» путь выполнения внутри процесса. На собеседованиях важно понимать разницу, чтобы обосновать выбор concurrency-механизмов и предсказать поведение приложения.

---

## Краткий конспект

- Процесс изолирован и имеет собственное адресное пространство.
- Потоки внутри одного процесса разделяют память и ресурсы.
- Потоки создаются и переключаются быстрее, чем процессы.
- В случае сбоя процесса — падают все его потоки.
- Потоки проще для параллелизма, процессы — для надёжной изоляции.
- Взаимодействие между потоками проще (через общую память).
- Разделяемая память = риск гонок и ошибок синхронизации.

---

## Определения

### Процесс (Process)

Процесс — это экземпляр выполняемой программы, которому выделена отдельная память, дескрипторы файлов и системные ресурсы. Операционная система отслеживает его жизненный цикл, при этом процессы друг друга не «видят» без явного межпроцессного взаимодействия (IPC).

> [!tip]
> **Как отвечать, если просят пример из практики:**  
> Go‑бэкенд может порождать отдельный процесс `wkhtmltopdf` через `exec.Command`, чтобы формировать PDF‑отчёты в фоне и не блокировать обработку HTTP‑запросов основного сервиса.

### Поток (Thread)

Поток — это наименьшая единица выполнения внутри процесса. Потоки одного процесса совместно используют память, но имеют собственный стек и регистры. Это облегчает создание параллельных операций, например, при обработке сетевых запросов.

---

## Ключевые отличия

| Характеристика         | Процесс                            | Поток                              |
|------------------------|-------------------------------------|-------------------------------------|
| Память                 | Изолированная                      | Общая с другими потоками            |
| Переключение (switch)  | Медленное, требует контекста       | Быстрое                            |
| Время создания         | Дольше                             | Быстрее                            |
| Коммуникация           | Через IPC (сложнее)                | Через общую память (проще)         |
| Отказоустойчивость     | Падение не влияет на другие        | Падение может обрушить весь процесс|
| Безопасность           | Выше за счёт изоляции              | Ниже из-за общего состояния         |
| Использование          | Многопроцессные архитектуры        | Параллельные вычисления             |
| Интервьюер может спросить | Про использование в backend или CLI | Как вы реализуете параллельность?   |

---

> [!faq]  
> **Q:** Потоки и процессы — одно и то же?  
> **A:** Нет. Потоки — часть процесса и делят его память, процессы — полностью изолированы.  
>  
> **Q:** Почему потоки «лёгкие»?  
> **A:** Их проще создать, переключить и удалить — меньше накладных расходов.  
>  
> **Q:** Когда использовать процессы вместо потоков?  
> **A:** Когда важна изоляция (например, безопасность, отказоустойчивость).  
>  
> **Q:** Как происходит взаимодействие между потоками?  
> **A:** Через разделяемую память, часто с mutex'ами и каналами.  
>  
> **Q:** Можно ли сделать многопоточность без гонок?  
> **A:** Да, но нужно аккуратно работать с синхронизацией (mutex, atomic, канал).

---

> [!warning]
> **Нюансы и подводные камни:**  
>
> - **User threads vs Kernel threads** — не всегда потоки напрямую управляются ОС.
 
---

## Полезные ссылки

- [OSTEP: Concurrency — Threads (PDF)](https://pages.cs.wisc.edu/~remzi/OSTEP/threads-intro.pdf?utm_source=chatgpt.com)
- [ByteByteGo: Process vs Thread](https://bytebytego.com/guides/what-is-the-difference-between-process-and-thread/?utm_source=chatgpt.com)
- [Alex Xu — LinkedIn Post](https://www.linkedin.com/posts/alexxubyte_systemdesign-coding-interviewtips-activity-7141830644615057408-3vmz?utm_source=chatgpt.com)
- [MDN Glossary — Thread](https://developer.mozilla.org/en-US/docs/Glossary/Thread?utm_source=chatgpt.com)