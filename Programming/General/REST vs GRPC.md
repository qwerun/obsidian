# REST vs gRPC: когда и что использовать на собеседовании

> [!info] Основная идея  
> REST и gRPC — популярные подходы к построению API. Понимание их различий важно для кандидатов, чтобы уверенно отвечать на вопросы о системной интеграции, производительности и выборе протокола в архитектуре.

---

## Краткий конспект

- **REST** использует HTTP и чаще всего формат JSON.
- **gRPC** основан на HTTP/2 и сериализует данные через Protocol Buffers.
- gRPC быстрее по передаче, но сложнее в отладке и развёртывании.
- REST проще тестировать, широко поддерживается браузерами.
- gRPC требует генерации кода из `.proto`-файлов.
- REST лучше для публичных API; gRPC — для внутренних микросервисов.

---

## Подробно

### Сравнение REST и gRPC

| Критерий           | REST                              | gRPC                                          |
|--------------------|-----------------------------------|-----------------------------------------------|
| Формат данных      | JSON                              | Protocol Buffers (protobuf)                   |
| Транспорт          | HTTP/1.1                          | HTTP/2                                        |
| Принцип            | CRUD (ресурс-ориентированный)     | RPC (вызов удалённых процедур)                |
| Скорость           | Ниже, из-за текста                | Выше: бинарный формат, сжатие, HTTP/2         |
| Кросс-язычность    | Отличная (HTTP-клиенты везде)     | Отличная, но требует генерации stubs          |
| Браузеры           | Поддержка из коробки              | Ограничена, нужен gRPC-web                    |

> [!tip]
> Интервьюер может спросить: «Почему gRPC быстрее REST?» — ответ: бинарный формат, меньший overhead, multiplexing в HTTP/2.

---

### Когда выбрать REST?

- Если **нужен публичный API** с широкой совместимостью (в т.ч. браузеры).
- Когда важна **простота отладки** (например, `curl`, Postman).
- Если проекту подходит **ресурсно-ориентированный стиль** (`GET /users`).

---

### Когда выбрать gRPC?

- При **высокой нагрузке** и требованиях к скорости (например, микросервисы).
- Когда важно **чёткое описание контракта** через `.proto`.
- Если есть потребность в **streaming**.

---

### Типовые вопросы на собеседовании

> [!faq]  
> **Q:** Как бы ты описал RESTful API? Какие глаголы используешь?  
> **A:** RESTful API — это архитектурный стиль, основанный на HTTP. Обычно используют глаголы: `GET`, `POST`, `PUT`, `DELETE`.  
>  
> **Q:** Как бы ты организовал быструю коммуникацию между Go и Python сервисами?  
> **A:** Через gRPC: он кросс-языковой, использует бинарную сериализацию и HTTP/2, что обеспечивает высокую производительность.
> 
> **Q:** Почему gRPC быстрее?  
> **A:** Потому что использует бинарную сериализацию и HTTP/2 (меньше overhead).  
>  
> **Q:** Что такое идемпотентность?  
> **A:** Повторный вызов не изменяет результат (например, `GET`, `PUT`).  
>  
> **Q:** Можно ли вызывать gRPC из браузера?  
> **A:** Напрямую — нет, но есть обёртки (`gRPC-web`).  
>  
> **Q:** Как тестировать gRPC?  
> **A:** С помощью `grpcurl`, auto-generated CLI-клиентов или интеграционных тестов.  
>  
> **Q:** Что выбрать для интеграции с мобильными приложениями?  
> **A:** REST — проще, если нужна кроссплатформенность без дополнительных зависимостей.

```bash
# Пример REST-запроса
curl -X GET https://api.example.com/users

# Пример gRPC-запроса
grpcurl -plaintext localhost:50051 list
```

---

> [!warning] Нюансы  
> - **Versioning**: в REST часто через URL, в gRPC — через proto-схемы.  
> - **Браузеры** не поддерживают gRPC напрямую.  
> - **Streaming**: в REST нет нативной поддержки, в gRPC есть.  
> - **DevOps-поддержка**: REST легче отлаживать и логировать, gRPC требует специального tooling.

---

## Полезные ссылки

- [Difference between gRPC and REST — AWS](https://aws.amazon.com/compare/the-difference-between-grpc-and-rest/?utm_source=chatgpt.com)
- [When to Choose REST vs. gRPC — Medium](https://medium.com/%40sahaidachnyi/when-to-choose-rest-vs-grpc-33347ea63c85?utm_source=chatgpt.com)
- [gRPC vs REST: Top Differences — GeeksforGeeks](https://www.geeksforgeeks.org/blogs/grpc-vs-rest/?utm_source=chatgpt.com)