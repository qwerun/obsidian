> [!info] **Основная идея**  
> Чистая архитектура (Clean Architecture) — это способ организации кода, при котором бизнес-логика изолирована от внешних деталей (UI, БД, фреймворков). Это повышает модульность, тестируемость и устойчивость к изменениям.

## Краткий конспект
* **Чистая архитектура (СА)** — структурный подход к написанию устойчивого и поддерживаемого кода.
* **Кольца (Entities → Use Cases → Interface Adapters → Frameworks)** — уровни системы от ядра к внешним слоям.
* **Dependency Rule** — зависимости направлены только внутрь.
* **Преимущества** — тестируемость, устойчивость к изменениям, независимость от фреймворков.
* **Практика** — полезна в сложных системах, внедряется поэтапно.

---

## Что такое чистая архитектура?

Clean Architecture была предложена Робертом Мартином (Uncle Bob) как обобщение идей Onion и Hexagonal архитектур. Её цель — изолировать бизнес-логику от технических деталей и дать системе устойчивость к изменениям.

Основная концепция — **кольцевая структура**:  
- В центре — **Entities** (ядро: бизнес-модели, бизнес-правила).  
- За ним — **Use Cases** (приложенческая логика).  
- Далее — **Interface Adapters** (DTO, контроллеры, presenter'ы).  
- На внешнем уровне — **Frameworks & Drivers** (UI, БД, Web).

Ключевое правило — **все зависимости направлены внутрь**: внешний слой может зависеть от внутреннего, но не наоборот. Это позволяет, например, заменить БД без переписывания доменной логики.

---

## Ключевые принципы

Clean Architecture следует принципам **[[Основы SOLID|SOLID-принципы]]**, особенно:

- **Инверсия зависимостей**: домен не должен зависеть от внешнего мира, а наоборот.
- **Разделение ответственности**: каждая часть системы отвечает за своё.
- **Изоляция бизнес-логики**: Entities и Use Cases не зависят от фреймворков.

---

## Преимущества

- ✅ Независимость от UI, фреймворков и баз данных.
- ✅ Упрощённое юнит-тестирование (можно тестировать без запуска HTTP-сервера).
- ✅ Устойчивость к изменениям в инфраструктуре.
- ✅ Возможность переиспользования бизнес-логики в разных интерфейсах.
- ✅ Чёткая структура и читаемость кода на уровне архитектуры.

---

## Нюансы и подводные камни

> [!warning] **Типичные ошибки**  
> * «Ананасы» — избыточные абстракции без практической пользы.  
> * Смешение слоёв: UI напрямую вызывает бизнес-логику.  
> * Чрезмерная строгость: усложнение без оправданной выгоды.

> [!tip] **Рекомендации**  
> * Начинайте с MVP-функциональности вертикально, потом углубляйтесь.  
> * Поддерживайте автотесты на уровне Use Cases.  
> * Не бойтесь упрощать в маленьких проектах — Clean Architecture не догма.

---

## Часто задаваемые вопросы

> [!faq]  
> **Чем СА отличается от MVC?** — В СА логика жёстко отделена от инфраструктуры, а в MVC контроллер может напрямую управлять данными и UI.  
> **Можно ли совмещать с микросервисами?** — Да, более того, СА особенно полезна в микросервисной архитектуре.  
> **Увеличивает ли СА время разработки?** — Да, на старте. Но в долгосрочной перспективе снижает затраты на поддержку и изменения.

---

## Полезные ссылки

* [Robert C. Martin — “The Clean Architecture”](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html?utm_source=chatgpt.com)  
* [Hexagonal architecture — Wikipedia](https://en.wikipedia.org/wiki/Hexagonal_architecture_%28software%29?utm_source=chatgpt.com)  
* [What is clean architecture? — TechTarget](https://www.techtarget.com/whatis/definition/clean-architecture?utm_source=chatgpt.com)  
