#### Exactly-Once Semantics (EOS)

**Exactly-Once** — это гарантия, что каждое сообщение будет **обработано ровно один раз**: не потеряется и не дублируется, даже при сбоях.

В Kafka EOS достигается сочетанием:

- идемпотентного продюсера (`EnableIdempotence=true`);
- транзакций (`BeginTxn`, `CommitTxn`);
- `read_committed` на стороне consumer;
- fencing `TransactionalID`, исключающего конкуренцию продюсеров.

> [!tip]
> EOS особенно важен при изменении состояния (например, списание баланса) — чтобы избежать двойных действий.

> [!example]
> [[Kafka exactly-once semantics]] позволяет строить надёжные финансовые и логистические пайплайны без дубликатов и потерь.
