> [!info]  
> **Domain-Driven Design (DDD)** — это подход к проектированию ПО, который помогает строить архитектуру, ориентируясь не на технические детали, а на реальный бизнес. Он особенно полезен, когда система сложная, а требования часто меняются.

---

## 1. Ключевая идея DDD и зачем она нужна бизнесу

DDD предлагает сначала глубоко понять предметную область, а уже потом писать код. Всё начинается с общения с экспертами: вместо того чтобы сразу проектировать API или БД, мы уточняем, как работает бизнес. Это позволяет:

- создавать понятные модели, близкие к реальности;
- снижать разрыв между разработкой и бизнесом;
- минимизировать ненужную техническую сложность.

---

## 2. Бизнес-контексты и «границы контекста» (Bounded Context)

Предметная область почти всегда состоит из поддоменов. Например, у интернет-магазина есть:

- **Каталог товаров**
- **Корзина и заказы**
- **Оплата**
- **Управление доставкой**

Каждый из них может быть реализован как отдельная модель. [[Bounded Context]] определяет, где действуют свои правила и терминология. Например, в «Оплате» термин *платёж* — это банковская транзакция, а в «Заказах» — просто флаг `isPaid`.

> [!tip]
> Определяйте контексты через диалоги с бизнесом. Не бойтесь называть одни и те же сущности по-разному в разных контекстах — это нормально.

---

## 3. Пошаговое применение DDD при проектировании микросервисов

1. **Разделите домен на Bounded Context'ы**.
2. Для каждого определите свою **модель**, **словарь терминов** и **команду**.
3. Постройте [[Context Map]] — кто с кем и как взаимодействует.
4. Спроектируйте интерфейсы (API, события) между контекстами.
5. Внутри каждого сервиса соблюдайте чистоту модели: Ubiquitous Language, агрегаты, сущности и value-объекты.

```go
type Order struct {
  ID       string
  Items    []Item
  Status   OrderStatus
}
```

> [!tip]
> Связи между контекстами — это не просто HTTP-запросы. Используйте асинхронные события, если можно.

---

## 4. Типовые ошибки и советы, как их избежать

> [!warning]
> **Ошибка:** проектирование моделей без участия бизнеса.  
> **Как избежать:** начните с Event Storming или user story mapping.

> [!warning]
> **Ошибка:** один общий словарь терминов на всю систему.  
> **Как избежать:** уточняйте значения слов в каждом контексте.

> [!warning]
> **Ошибка:** переусложнённая архитектура DDD «на всякий случай».  
> **Как избежать:** применяйте DDD только в сложных доменах, не везде.

---

## Полезные ссылки

* [Domain-Driven Design: что это такое и как его использовать — Tproger](https://tproger.ru/articles/domain-driven-design-davajte-ne-budem-uslozhnyat?utm_source=chatgpt.com)
* [Границы контекста (Bounded Context) — microarch.ru](https://microarch.ru/blog/bounded-context?utm_source=chatgpt.com)
* [Domain-Driven Design Reference (Evans)](https://domainlanguage.com/ddd/reference/)
* [Vaughn Vernon — DDD Distilled (краткий гайд)](https://vaughnvernon.co/?p=838)
* [Microsoft DDD Guide (англ.)](https://learn.microsoft.com/en-us/dotnet/architecture/modern-web-apps-azure/architectural-principles#domain-driven-design)
